1、工作内容简述：
    1）【均线盯盘】完成交易窗口、数据列表自动化测试步骤函数和测试用例
    2）【均线盯盘】均线盯盘代码与版本分支本地合并和合并问题处理与合并检测问题处理
    3） B2BSM-7810 全局快捷键映射奔溃问题修复和测试排查

2、收获和心得体会
    1）熟悉和了解和自动化测试的配置内容和测试脚本的内容
    2）更深刻了解组件关闭的整个过程

3、问题和解决方案
    1）【均线盯盘】组件化改造
        a）编写测试脚本时，发现测试脚本跑得太快，参数设置弹窗没能正确设置
            解决方法：增加相应的测试点，到达测试点再进行下一步
        b）编写脚本时，使用列表选择动作时，未达到预期效果
            解决方法：排查发现问题账户列表部分时间是由点击触发的，需要修改脚本动作为点击
    2）B2BSM-7810 全局快捷键映射奔溃问题修复和测试排查
        a）原定为直接改造，预想多个方案实现都存在困难
            解决方法：经吴明起建议，重新跟踪排查奔溃触发位置，最终排查出奔溃触发问题是由析构时序导致，相应组件子类重写OnCloseComponent解决该问题，放弃改造方案


6月份总结 + 7月份计划，包括以下内容
6月份总结
一：项目内容
	自营项目：
		1）工作内容
            1）B2BSM-8355 【组合条件】取消勾选允许超过可用，改变了下单类型
            2）B2BSM-8709【集中交易】买入委托查询返回显示为蓝色
            3）【均线盯盘】自动化测试改造
                第一阶段：（总2天）
                1、方案制定（2天）6月1日-6月2日
                第二阶段：（总1天）
                1、新增组件配置lua文件，修改模块配置lua文件（1天）6月7日
                第三阶段：（总18天）
                1、账户模块改造（3天）6月8日-6月10日
                2、列表模块改造（3.5天）6月13日、6月22日-6月23日
                3、交易模块改造（3天）6月14日-6月16日
                4、竞价卖出改造（1天）6月24日
                5、止盈止损改造（1天）6月27日
                6、底窗改造（1天）6月17日
                7、分级设置改造（1天）6月21日
                8、一键卖出改造（1天）6月28日

		2）遇到问题 + 解决方法
            1）【均线盯盘】了解自动化测试改造需求，改造内容以及流程
                a）对Datalist文件的引用范围有点困惑
                     解决方法：向建华请教该文件的引用范围和功能作用，该文件存放位置和引用工程不同，且包含内容较多，及时请教是最快上手的方式
            2）B2BSM-7810【崩溃跟踪】全局快捷键崩溃
                a）未完全沟通清楚该问题的修改方案，使用一天时间去跟踪问题
                    解决方法：跟建华沟通，梳理清楚该问题的改造方法，待后续排期改版
            3）【均线盯盘】组件化改造
                a）改造过程中发现对CListTextElementUI的新旧接口用法不够熟悉，而新旧接口用法差异较大
                    解决方法：请教裴元帅，了解新旧接口的对应关系
                b）开始改造后，发现方案中缺少对数据成员的安排
                    解决方法：根据裴元帅的指导，了解数据成员改造的需求，并增加相关工作计划安排
            4）了解自动化测试过程中，发现无法正常启动测试窗口
                a）未将自己电脑的mac地址添加到代码白名单里面
                    解决方法：把内外网mac地址添加白名单
            5）【均线盯盘】组件化改造
                a）改造过程中，对m_ui控制相关组件的key存在疑问
                    解决方法：排查确认，m_ui所使用的key应该为xml皮肤文件中的name，不能使用原本指针变量名
                b）底窗改造中对子窗口名称映射存在疑问
                    解决方法：对比其他已改造底窗，确认所映射实例名，是lua文件的所声明的实例名，映射的key可以沿用原来所使用的字符串
                    1）B2BSM-8709【集中交易】国泰君安买入委托查询返回显示为蓝色
                a）不同的版本分支，需要重新搭建
                    解决方法：自编译两遍，未能成功重现问题，建华确认需要修改相关参数并开通不同的ip端口登陆
                b）问题复现和排查
                     解决方法：直接登陆225地址无法复现问题，最后使用107端口登陆，最终在建华帮助下排查出为后台返回数据问题导致，已反馈后台修改
            6）【均线盯盘】组件化改造
                a）改造过程中，需要对弹窗进行改造
                    解决方法：经过对比已组件化的工程发现，弹窗需要继承不同的基类，接口和一些功能需要重新修改
                b）数据列表组件化过程中发现任务列表标题不正常
                    解决方法：对比排查为InitWindow的问题，根据原本的函数功能排查修改
	券商项目：
		无
        
二：内部优化工作
无
三：工具建设
无


7月份计划
一：项目内容
	自营项目：
		1）工作内容
            1）【均线盯盘】组件化改造界面和功能调试，开发自测
            2）【均线盯盘】增加自动化测试功能和脚本
            3）【单单元指令】自动化测试改造方案设计和开发
            4）根据安排的其他任务
		2）遇到问题 + 解决方法
	券商项目：
		无
二：内部优化工作
无
三：工具建设
无

年中总结
上半年主要工作主要划分为熟悉交易客户端、修复部分bug和均线盯盘组件化改造三部分。总修复线上问题n个，包含集中交易、条件交易和均线盯盘。
截至目前，均线盯盘组件化改造主要工作已经完成，主要包含交易组件、账户组件、数据列表组件、分级设置弹窗、一键卖出弹窗、止盈止损弹窗和竟价卖出弹窗的改造。
上述改造的主要内容包含函数接口修改、控件调用方式替换和数据成员安全存储修改。鉴于窗口组件涉及的控件和数据处理代码量较大，修改内容几乎涉及工程里的每一行代码，
也是工作耗时最大的地方，改造大致时间如下：
    1、账户模块改造（3天）6月8日-6月10日
    2、列表模块改造（3.5天）6月13日、6月22日-6月23日
    3、交易模块改造（3天）6月14日-6月16日
    4、竞价卖出改造（1天）6月24日
    5、止盈止损改造（1天）6月27日
    6、底窗改造（1天）6月17日
    7、分级设置改造（1天）6月21日
    8、一键卖出改造（1天）6月28日
    大量代码的修改，可以更快得熟悉代码逻辑结构和dui控件的使用、模块之间的交互方式。比如使用CUIData作为模块内部以及模块之间的通讯方式和使用m_ui作为控件调用的方式。但也存在前期方案设计时，改造方案不够合理，先修改造完所有组件，再统一调试，增加了出错风险。后续进行工作方案设计前，需要进行更合理方案设计，尤其多向同事们请教。
接下来计划开展组件化后均线盯盘调试以及增加均线盯盘自动化测试功能，后面接着开展单单元指令组件化改造工作和均线盯盘性能优化工作（创建时间在200ms内）。
除此之外，根据工作需求另外安排的任务将另行安排。更多参与到线上问题排查跟进，在排查问题中去熟悉客户端的业务功能和代码。
